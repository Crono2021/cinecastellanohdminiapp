(function(){function o(){return!!document.querySelector('.modal.open,.popup-ficha.is-open,.popup-ficha[aria-hidden="false"]')}function c(){var e=document.querySelector('.modal.open .btn-cerrar,.modal.open [data-close],.popup-ficha.is-open .btn-cerrar-ficha,.popup-ficha[aria-hidden="false"] .btn-cerrar-ficha');if(e){e.click();return}var t=document.querySelector('.modal.open');t&&t.classList.remove('open');var n=document.querySelector('.popup-ficha.is-open,.popup-ficha[aria-hidden="false"]');n&&(n.classList.remove('is-open'),n.setAttribute('aria-hidden','true'),n.style.display='none')}function s(){var e=new MutationObserver(function(){o()&&function(){try{history.pushState({modal:!0,t:Date.now()},"",location.href)}catch{}}()});e.observe(document.documentElement,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["class","style","aria-hidden"]}),o()&&function(){try{history.pushState({modal:!0},"",location.href)}catch{}}()}try{(!history.state||!history.state._base)&&history.replaceState({_base:!0,t:Date.now()},"",location.href)}catch{}window.addEventListener("popstate",function(){o()&&(c(),function(){try{history.pushState({restored:!0,t:Date.now()},"",location.href)}catch{}}())}),document.addEventListener("backbutton",function(e){o()&&(e.preventDefault(),c())},!1),s()})();