<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cine en Castellano HD</title>
  <link rel="stylesheet" href="/styles.css" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework"></script>
</head>
<body>
  <header>
    <div class="container hstack">
      <h2 style="margin:0">ðŸŽ¬ Cine en Castellano HD</h2>
      <div style="font-size:0.8em; color:#aaa; margin-top:2px;">Por Crono2021</div>
      <input id="q" placeholder="Buscar por tÃ­tulo..." style="flex:1" />
      <input id="actor" placeholder="...o por actor/actriz" />
      <select id="genre"></select>
      <button id="searchBtn">Buscar</button>
      <button id="resetBtn">Vista global</button>
    </div>
  </header>

  <div class="container">
    <div id="grid" class="grid"></div>
    <div class="pagination">
      <button id="prev">â—€ï¸Ž</button>
      <small id="pageInfo"></small>
      <button id="next">â–¶ï¸Ž</button>
    </div>
  </div>

  <div id="modal" class="modal">
    <div class="modal-card">
      <div class="modal-header">
        <strong id="modalTitle"></strong>
        <button id="closeModal">Cerrar</button>
      </div>
      <div class="modal-body">
        <div class="detail">
          <img id="modalPoster" class="poster-lg" />
          <div>
            <p id="modalOverview"></p>
            <p><small class="mute" id="modalMeta"></small></p>
            <div id="modalGenres"></div>
            <h4>Reparto principal</h4>
            <div id="modalCast" class="cast"></div>
            <p>
              <a id="watchLink" class="link" target="_blank">â–¶ Reproducir</a>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  
  <!-- Player Modal with Cast Launcher -->
  <div id="playerModal" class="modal">
    <div class="modal-card player-card">
      <div class="modal-header player-header">
        <strong id="playerTitle">Reproduciendoâ€¦</strong>
        <div class="player-actions">
          <button id="openExtern" class="ghost">Abrir en pestaÃ±a</button>
          <google-cast-launcher id="castLauncher" class="cast-button" aria-label="Enviar al televisor"></google-cast-launcher>
          <button id="closePlayer" class="danger">Cerrar</button>
        </div>
      </div>
      <div class="modal-body player-body">
        <video id="playerVideo" playsinline controls style="width:100%;max-height:70vh;border-radius:12px;background:#000"></video>
      </div>
    </div>
  </div>


  <footer>
    <div class="container">
      <small class="mute">Â® Cine Castellano HD â€” datos de TMDB. Esta mini app no estÃ¡ afiliada ni respaldada por TMDB.</small>
    </div>
  </footer>

  <script src="/app.js"></script>
  <script src="back-handler.js"></script>
</body>
</html>